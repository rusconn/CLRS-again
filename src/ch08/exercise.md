# 8 章 練習問題

## 8.1-1

スキップ

## 8.1-2

スキップ

## 8.1-3

スキップ

## 8.1-4

スキップ

## 8.2-1

> 配列 $A = \langle 6,0,2,0,1,3,4,6,1,3,2 \rangle$ 上での $\text{COUNTING-SORT}$ の振舞いを示せ。

A = [6 0 2 0 1 3 4 6 1 3 2]  
B = [X X X X X X X X X X X]  
C = [2 2 2 2 1 0 2]

A = [6 0 2 0 1 3 4 6 1 3 2]  
B = [X X X X X X X X X X X]  
C = [2 2 2 2 1 0 2]

A = [6 0 2 0 1 3 4 6 1 3 2]  
B = [X X X X X X X X X X X]  
C = [2 4 6 8 9 9 11]

A = [6 0 2 0 1 3 4 6 1 3 (2)]  
B = [X X X X X 2 X X X X X]  
C = [2 4 5 8 9 9 11]

A = [6 0 2 0 1 3 4 6 1 (3) 2]  
B = [X X X X X 2 X 3 X X X]  
C = [2 4 5 7 9 9 11]

A = [6 0 2 0 1 3 4 6 (1) 3 2]  
B = [X X X 1 X 2 X 3 X X X]  
C = [2 3 5 7 9 9 11]

A = [6 0 2 0 1 3 4 (6) 1 3 2]  
B = [X X X 1 X 2 X 3 X X 6]  
C = [2 3 5 7 9 9 10]

A = [6 0 2 0 1 3 (4) 6 1 3 2]  
B = [X X X 1 X 2 X 3 4 X 6]  
C = [2 3 5 7 8 9 10]

A = [6 0 2 0 1 (3) 4 6 1 3 2]  
B = [X X X 1 X 2 3 3 4 X 6]  
C = [2 3 5 6 8 9 10]

A = [6 0 2 0 (1) 3 4 6 1 3 2]  
B = [X X 1 1 X 2 3 3 4 X 6]  
C = [2 2 5 6 8 9 10]

A = [6 0 2 (0) 1 3 4 6 1 3 2]  
B = [X 0 1 1 X 2 3 3 4 X 6]  
C = [1 2 5 6 8 9 10]

A = [6 0 (2) 0 1 3 4 6 1 3 2]  
B = [X 0 1 1 2 2 3 3 4 X 6]  
C = [1 2 4 6 8 9 10]

A = [6 (0) 2 0 1 3 4 6 1 3 2]  
B = [0 0 1 1 2 2 3 3 4 X 6]  
C = [0 2 4 6 8 9 10]

A = [(6) 0 2 0 1 3 4 6 1 3 2]  
B = [0 0 1 1 2 2 3 3 4 6 6]  
C = [0 2 4 6 8 9 9]

## 8.2-2

> $\text{COUNTING-SORT}$ が安定であることを証明せよ。

$A$ の要素は右の要素から $B$ へ書き込まれる。  
同じ値の要素があった場合も $B$ の右から書き込まれる。  
方向が一致しているので安定。

## 8.2-3

> $\text{COUNTING-SORT}$ 手続きの第 $10$ 行目の**for 文**の頭部を
>
> ```pseudo
> for j = 1 to A.length
> ```
>
> に書き換える。アルゴリズムが依然として正しく動作することを示せ。修正したアルゴリズムは安定か？

$A$ の全要素が $B$ へ書き込まれることは変わらない。  
同じ値の要素があった場合の振舞いも変わらず左へ移動して書き込んでいくので正しく動作する。

安定性については、[練習問題 8.2-2](#82-2) より、方向が一致しなくなるので安定ではない。

## 8.2-4

> $0$ から $k$ の範囲にある $n$ 個の整数が入力として与えられている。入力を前処理し、任意の２整数 $a,b$ に対して $[a..b]$ の範囲にある入力された整数の個数を $O(1)$ 時間で答えるアルゴリズムを示せ。ただし、前処理にかかる時間は $\Theta(n + k)$ でなければならない。

$n$ 個の整数を $A$ とする。

計数ソートでやったように、 $C[i]$ に $A$ の $i$ 以下の要素数が入るような $C$ を用意する。この前処理は $\Theta(n + k)$ 。  
$A$ の $[a..b]$ の範囲にある要素の数は、 $0 < a < b \le k$ なら $C[b] - C[a-1]$ と表される。  
ただし、 入力値の関係により各種場合分けが必要。  
コードは [code.ts](./code.ts) に書いた。
